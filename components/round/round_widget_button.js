(()=>{const n=document.getElementById("medflexRoundWidgetData").dataset.src,e=new URL(n),t=new URLSearchParams(e.search).get("user");if(!t)return;const r=`${e.origin}/utils/round_widget_settings/`,o={color:"1A5DD0",mobile:{location:"left",indent_x:32,indent_y:32},desktop:{location:"right",indent_x:32,indent_y:32}};function d(e=o){const t=document.body;if(!t)return;const r=function(){const n=document.createElement("div");return n.classList.add("medflex-round-widget"),n.innerHTML='\n      <div class="medflex-round-widget__button">\n        Запись\n      </div>\n      <div class="medflex-round-widget__iframe-wrapper">\n        <div class="medflex-round-widget__iframe medflex-round-widget__iframe_loading">\n          <div class="medflex-round-widget__header">\n            Запись на приём к врачу\n            <button class="medflex-round-widget__cross">\n              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M18.7722 6.32775C19.0759 6.02401 19.0759 5.53155 18.7722 5.22781C18.4685 4.92406 17.976 4.92406 17.6723 5.22781L12 10.9001L6.32775 5.22781C6.02401 4.92406 5.53155 4.92406 5.22781 5.22781C4.92406 5.53155 4.92406 6.02401 5.22781 6.32775L10.9001 12L5.22781 17.6723C4.92406 17.976 4.92406 18.4685 5.22781 18.7722C5.53155 19.0759 6.02401 19.0759 6.32775 18.7722L12 13.0999L17.6723 18.7722C17.976 19.0759 18.4685 19.0759 18.7722 18.7722C19.0759 18.4685 19.0759 17.976 18.7722 17.6723L13.0999 12L18.7722 6.32775Z" fill="#111111" />\n              </svg>\n            </button>\n          </div>\n          <div>\n            <div class="medflex-round-widget__progress-wrapper">\n              <svg\n                class="medflex-round-widget__progress"\n                xmlns="http://www.w3.org/2000/svg"\n                viewBox="21.132075471698116 21.132075471698116 42.26415094339623 42.26415094339623"\n              >\n                <circle\n                  class="medflex-round-widget__progress-circle"\n                  fill="transparent"\n                  cx="42.26415094339623"\n                  cy="42.26415094339623"\n                  r="20"\n                  stroke="#1A5DD0"\n                  stroke-width="2.2641509433962264"\n                  stroke-dasharray="125.664"\n                  stroke-dashoffset="125.66370614359172px"\n                ></circle>\n              </svg>\n            </div>\n          </div>\n          <div class="medflex-round-widget__footer">\n            Виджет\n            <div class="medflex-round-widget__logo"></div>\n          </div>\n        </div>\n      </div>\n    ',n}();t.append(r);const d="medflex-round-widget__iframe-wrapper_show",i=document.querySelector(".medflex-round-widget__iframe-wrapper"),a=function(){const e=document.createElement("iframe");return e.src=n,e.className="medflex-round-widget__iframe",e.style.display="none",e}(),s=n=>{n.target.closest(".medflex-round-widget__button")&&(i.appendChild(a),document.removeEventListener("click",s))};window.addEventListener("message",(e=>{if(n.startsWith(e.origin)&&("closeFrame"===e.data&&i.classList.remove(d),"showFrame"===e.data)){const n=document.querySelector(".medflex-round-widget__iframe_loading");n&&(n.parentNode.removeChild(n),a.style.display="block")}})),document.addEventListener("click",(n=>{n.target.closest(".medflex-round-widget__button")&&i.classList.add(d),n.target.closest(".medflex-round-widget__cross")&&i.classList.remove(d)})),document.addEventListener("click",s),function(n){const e=document.createElement("style");e.innerText=`\n      .medflex-round-widget,\n      .medflex-round-widget *,\n      .medflex-round-widget *::before,\n      .medflex-round-widget *::after {\n        box-sizing: border-box;\n      }\n\n      .medflex-round-widget__iframe-wrapper {\n        position: fixed;\n        z-index: 999999999;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        padding-top: 40px;\n        padding-bottom: 40px;\n        background-color: rgba(0, 0, 0, 0.4);\n      }\n\n      .medflex-round-widget__iframe-wrapper:not(.medflex-round-widget__iframe-wrapper_show) {\n        position: absolute;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        white-space: nowrap;\n        border-width: 0;\n      }\n\n      .medflex-round-widget__iframe {\n        display: block;\n        margin: 0 auto;\n        max-width: 650px;\n        width: 100%;\n        height: 100%;\n        border: none;\n        border-radius: 4px;\n        box-shadow: 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);\n        background-color: #FFFFFF;\n      }\n\n      .medflex-round-widget__iframe_loading {\n        font-family: Inter, sans-serif;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n      }\n\n      .medflex-round-widget__header {\n        font-size: 20px;\n        font-weight: 600;\n        line-height: 130%;\n        letter-spacing: 0.15px;\n        color: #111111;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        height: 56px;\n        border-bottom: 1px solid #C7D1DF;\n        padding: 8px;\n      }\n\n      .medflex-round-widget__footer {\n        font-size: 16px;\n        line-height: 125%;\n        color: #8DA2BA;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        box-shadow: 0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 2px 4px -1px rgba(0, 0, 0, 0.20);\n      }\n\n      .medflex-round-widget__logo {\n        width: 105px;\n        height: 36px;\n        margin-left: 4px;\n        background-image: url('https://booking.medflex.ru/static/images/medflex-copyright.svg');\n        background-position: center center;\n        background-repeat: no-repeat;\n      }\n\n      .medflex-round-widget__cross {\n        background-color: transparent;\n        border: none;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n      }\n\n      .medflex-round-widget__progress-wrapper {\n        margin: 0 auto;\n        width: 56px;\n        height: 56px;\n      }\n\n      .medflex-round-widget__progress {\n        animation: progress-circular-rotate 1.4s linear infinite;\n      }\n\n      .medflex-round-widget__progress-circle {\n        animation: progress-circular-dash 1.4s ease-in-out infinite;\n        stroke-linecap: round;\n        stroke-dasharray: 80, 200;\n        stroke-dashoffset: 0px;\n      }\n\n      .medflex-round-widget__button {\n        position: fixed;\n        z-index: 999999995;\n        bottom: ${n.desktop.indent_y}px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 96px;\n        height: 96px;\n        cursor: pointer;\n        border-radius: 50%;\n        font-family: Inter, sans-serif;\n        text-align: center;\n        color: #FFFFFF;\n        letter-spacing: 0.15px;\n        font-weight: 600;\n        font-size: 20px;\n        line-height: 130%;\n        box-shadow: 0 16px 16px #${n.color}60;\n        background-color: #${n.color};\n      }\n\n      .medflex-round-widget__button::before,\n      .medflex-round-widget__button::after {\n        content: '';\n        position: absolute;\n        z-index: -1;\n        left: 0;\n        bottom: 0;\n        height: 100%;\n        width: 100%;\n        cursor: pointer;\n        border-radius: 50%;\n        background-color: #${n.color};\n        animation-iteration-count: infinite;\n      }\n\n      .medflex-round-widget__button::before {\n        animation-name: pulse-circle;\n        animation-duration: 2.8s;\n      }\n\n      .medflex-round-widget__button::after {\n        animation-duration: 2.8s;\n        animation-name: pulse-animated-circle;\n        animation-timing-function: ease-out;\n      }\n\n      @media screen and (min-width: 651px) {\n        .medflex-round-widget__button {\n          ${n.desktop.location}: ${n.desktop.indent_x}px;\n        }\n      }\n\n      @media screen and (max-width: 650.98px) {\n        .medflex-round-widget__iframe-wrapper {\n          padding: 0;\n        }\n        .medflex-round-widget__iframe {\n          border-radius: 0;\n        }\n        .medflex-round-widget__button {\n          ${n.mobile.location}: ${n.mobile.indent_x}px;\n          bottom: ${n.mobile.indent_y}px;\n        }\n      }\n\n      @keyframes pulse-animated-circle {\n        0% {\n          transform: scale(1);\n        }\n        10% {\n          transform: scale(1);\n        }\n        50% {\n          transform: scale(1.2);\n        }\n        100% {\n          transform: scale(1);\n        }\n      }\n\n      @keyframes pulse-circle {\n        60% {\n          opacity: 0;\n          transform: scale(1);\n        }\n        75% {\n          opacity: 0.5;\n          transform: scale(1.1);\n        }\n        90% {\n          opacity: 0;\n          transform: scale(1.4);\n        }\n        100% {\n          opacity: 0;\n          transform: scale(1);\n        }\n      }\n\n      @keyframes progress-circular-dash {\n        0% {\n          stroke-dasharray: 1, 200;\n          stroke-dashoffset: 0px;\n        }\n        50% {\n          stroke-dasharray: 100, 200;\n          stroke-dashoffset: -15px;\n        }\n        100% {\n          stroke-dasharray: 100, 200;\n          stroke-dashoffset: -125px;\n        }\n      }\n\n      @keyframes progress-circular-rotate {\n        100% {\n          transform: rotate(360deg);\n        }\n      }\n    `,document.head.append(e)}(e)}!function(){const n=new XMLHttpRequest;n.addEventListener("load",(()=>{try{d(JSON.parse(n.responseText))}catch{d()}})),n.addEventListener("error",(()=>d())),n.open("GET",r),n.setRequestHeader("User",t),n.send()}()})();